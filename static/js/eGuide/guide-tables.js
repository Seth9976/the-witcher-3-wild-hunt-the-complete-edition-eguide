function addHooksToEguideTables(){jQuery("#content table.interactive-table").each(function(){jQuery(this).addClass('tablesorter').find('thead th').addClass('header').click(function(){var t=jQuery(this).closest('table');if(beforeInteraction(t)){t.tablesorter();jQuery(this).click();}});jQuery(this).tablecompare({searchall:false,animate:false,beforefilter:beforeInteraction});if(jQuery(this).find('td').length>2){jQuery(this).stickyTableHeaders({scrollableArea:jQuery('#content article'),fixedOffset:0});}});}
function initEguideTables(){jQuery('#content table:not([class*="web-custom-"])').each(function(){jQuery(this).addClass('interactive-table');if(jQuery(this).find('thead').length==0){jQuery(this).prepend('<thead></thead>');var th=jQuery(this).find('tbody tr').first().find('th');var td=jQuery(this).find('tbody tr').first().find('td:not(:empty)');if(th.length>0&&td.length==0){th.closest('tr').prependTo(jQuery(this).find('thead'));}
else{if(jQuery(this).find('tbody tr').first().find("h1,h2,h3,h4,h5,h6").length>0||hasTbodyGotHeader(jQuery(this),1)){jQuery(this).find('tbody tr').first().prependTo(jQuery(this).find('thead'));}}
jQuery(this).find('thead td').each(function(){jQuery(this).replaceWith(jQuery('<th>'+ jQuery(this).html()+'</th>'));});}
jQuery(this).find('thead').find("h1,h2,h3,h4,h5,h6").each(function(){jQuery(this).contents().unwrap();});if(jQuery(this).width()>jQuery(this).parent().width()){wideTable(jQuery(this));}
jQuery(this).find('td').each(function(){thousandsRegex=/([0-9]),([0-9][0-9][0-9])/g
if(isNumber(jQuery(this).text())&&thousandsRegex.test(jQuery(this).text())&&jQuery(this).text()==jQuery(this)[0].innerHTML){jQuery(this).text(function(){text=jQuery(this).text()
text=text.replace(/([0-9]),([0-9][0-9][0-9])/g,'$1$2');return text});}});});jQuery("#content table.interactive-table").each(function(){var wrapper=jQuery('<div />',{class:'table-wrapper'}).insertBefore(jQuery(this));jQuery(this).appendTo(wrapper);});function hasTbodyGotHeader(t,n){var foundheading=false;t.find('tr').first().find('td').each(function(){var heading=jQuery.trim(jQuery(this).text()).toLowerCase();if(heading=='name'||heading=='icon')foundheading=true;});if(foundheading)return true;var td=t.find('tbody td');if(td.length<=1)return false;var c=td.nthCol(n);if(c.length==0)return false;else if(checkCellTypes(c)){return true;}
else return hasTbodyGotHeader(t,n+1);}
function checkCellTypes(c){var type=getCellType(c.eq(1));if(type===false)return false;for(var i=1;i<c.length;i++){if(type!=getCellType(c.eq(i)))return false;}
return(type!=getCellType(c.eq(0)));}
function getCellType(cell){if(cell.children().length>0)return getCellType(cell.children().first());if(isNumber(cell.text()))return'number';else if(cell.prop("tagName")&&cell.prop("tagName").toLowerCase()=='img')return'img';else return false;}
function isNumber(n){n=n.replace(',','');return!isNaN(parseFloat(n))&&isFinite(n);}
function wideTable(t){var c=t.parent();var w=jQuery(window);t.find('tbody').css('zoom','75%');if(t.width()<=c.width())return;if(t.width()<w.width()){}}}
function beforeInteraction(t){expandRowspans(t);return removeSingleCellRows(t);}
function removeSingleCellRows(t){if(jQuery(t).hasClass('removed-single-rows'))return false;var tableBody=jQuery(t).find('tbody');tableBody.find('tr').each(function(){if(jQuery(this).find('td').length==1&&jQuery(this).find('td').first().attr('colspan')>1){jQuery(this).remove();}});jQuery(t).addClass('removed-single-rows');return true;}
function expandRowspans(t){if(jQuery(t).hasClass('expandedrows'))return false;var tableBody=jQuery(t).find('tbody');var coln=1;var c;while((c=tableBody.find('td').nthCol(coln)).length>0){c.each(function(rowi,td){if(jQuery(td).attr("rowspan"))
{var rown=jQuery(tableBody).find('tr').index(jQuery(td).closest('tr'));var rs=jQuery(td).attr("rowspan");jQuery(td).removeAttr("rowspan");for(i=1;i<rs;i++){var fillrow=jQuery(tableBody).find('tr').eq(rown+ i);var tdclone=jQuery(td).clone(true);if(coln>1)fillrow.find('td').eq(coln-2).after(tdclone);else fillrow.find('td').first().before(tdclone);}}});coln++;}
jQuery(t).addClass('expandedrows');return true;}